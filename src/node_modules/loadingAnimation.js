const bel = require("bel")
const csjs = require("csjs-inject")

module.exports = loadingAnimation 

function loadingAnimation (colors) {
  const css = csjs`
  .loader {
    display: inline-block;
  }
  .loader:before {
    content: "";
    display: inline-block;
    width: 4px;
    height: 4px;
    background-color: ${colors.loaderBackgroundColor};
    animation: rotatemove 2s infinite;
    border-radius: 50%;
  }

  @keyframes rotatemove {
    0%{
      -webkit-transform: scale(1) translateX(0);
      -ms-transform: scale(1) translateX(0);
      -o-transform: scale(1) translateX(0);
      transform: scale(1) translateX(0);
    }

    100%{
      -webkit-transform: scale(2) translateX(9rem);
      -ms-transform: scale(2) translateX(9rem);
      -o-transform: scale(2) translateX(9rem);
      transform: scale(2) translateX(9rem);
    }
  }`
  // @TODO: fix theming to not create 10000 style tags for 1000 spinners
  return bel`<div class=${css.loader}></div>`
}
